<!doctype html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <title>Lost & Found - Realtime DB</title>
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
  <div id="cursor-spotlight"></div>
  <div id="loading" class="hidden">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

  <div id="authContainer" class="full-screen">
    <!-- Particle Background -->
    <div class="particles">
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
      <span class="particle"></span>
    </div>

    <!-- Login Card -->
    <div id="loginCard" class="login-card">
      <img src="logo/624064616_1579220146676651_1747012832823948252_n.jpg" alt="Logo" class="site-logo-large" />
      <h2>LOST & FOUND</h2>
      <p>‡∏Ç‡∏≠‡∏á‡πÉ‡∏Ñ‡∏£ ‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡∏£‡∏±‡∏Å</p>
      <input type="text" id="loginInput" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡∏´‡∏£‡∏∑‡∏≠ ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" />
      <input type="password" id="loginPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" />

      <div style="
            display: flex;
            align-items: center;
            justify-content: flex-start;
            margin: 10px 0;
          ">
        <input type="checkbox" id="rememberMe" style="width: auto; margin-right: 8px" />
        <label for="rememberMe" style="font-size: 0.9rem; color: #555; cursor: pointer">‡∏à‡∏≥‡∏â‡∏±‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</label>
      </div>

      <button class="btn-login" onclick="handleLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      <p style="margin-top: 15px; font-size: 0.9rem">
        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? <a href="#" onclick="showRegister()">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</a>
      </p>
    </div>

    <!-- Register Card -->
    <div id="registerCard" class="login-card hidden">
      <img src="logo/624064616_1579220146676651_1747012832823948252_n.jpg" alt="Logo" class="site-logo-large" />
      <h2>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h2>
      <p>‡∏™‡∏°‡∏±‡∏Ñ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</p>
      <input type="email" id="regEmail" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏• (@gmail.com)" />
      <input type="text" id="regName" placeholder="‡∏ä‡∏∑‡πà‡∏≠" />
      <input type="text" id="regSurname" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" />
      <div style="display: flex; gap: 10px">
        <select id="regLevel" style="
              margin: 10px 0;
              padding: 10px;
              border: 1px solid #ddd;
              border-radius: 5px;
              flex: 1;
            ">
          <option value="" disabled selected>‡∏ä‡∏±‡πâ‡∏ô</option>
          <option value="‡∏°.1">‡∏°.1</option>
          <option value="‡∏°.2">‡∏°.2</option>
          <option value="‡∏°.3">‡∏°.3</option>
          <option value="‡∏°.4">‡∏°.4</option>
          <option value="‡∏°.5">‡∏°.5</option>
          <option value="‡∏°.6">‡∏°.6</option>
        </select>
        <input type="text" id="regRoom" placeholder="‡∏´‡πâ‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô 1)" style="margin: 10px 0" />
        <input type="text" id="regNo" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà" style="margin: 10px 0" />
      </div>
      <input type="text" id="regStudentId" placeholder="‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" />
      <input type="password" id="regPassword" placeholder="‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" />
      <p style="
            font-size: 0.75rem;
            color: #666;
            margin: -5px 0 10px 0;
            text-align: left;
          ">
        *‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 5 ‡∏ï‡∏±‡∏ß ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 1 ‡∏ï‡∏±‡∏ß
      </p>
      <input type="password" id="regConfirmPassword" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" />
      <button class="btn-primary" onclick="handleRegister()">
        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
      </button>
      <p style="margin-top: 15px; font-size: 0.9rem">
        ‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡πâ‡∏ß? <a href="#" onclick="showLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
      </p>
    </div>

    <!-- Success Card -->
    <div id="successCard" class="login-card hidden" style="text-align: center">
      <h2 style="color: var(--success-color)">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
      <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
      <div style="
            background: #fff0f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            letter-spacing: 2px;
            border: 2px dashed var(--accent-color);
          " id="displayReturnId">
        ------
      </div>
      <p style="color: #e74c3c; font-weight: bold">
        ‡πÇ‡∏õ‡∏£‡∏î‡∏à‡∏≥‡πÑ‡∏ß‡πâ ‡∏à‡∏î ‡∏´‡∏£‡∏∑‡∏≠ ‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
      </p>
      <button class="btn-primary" onclick="closeSuccessCard()">‡∏ï‡∏Å‡∏•‡∏á</button>
    </div>
  </div>

  <div id="mainPage" class="main-container hidden">
    <div class="header">
      <div style="display: flex; align-items: center; gap: 15px">
        <img src="logo/624064616_1579220146676651_1747012832823948252_n.jpg" alt="Logo" class="site-logo-small" />
        <h1 style="margin: 0">LOST & FOUND</h1>
      </div>
      <div>
        <span id="userDisplay" style="margin-right: 15px"></span>
        <button onclick="handleLogout()" style="cursor: pointer">
          Logout
        </button>
      </div>
    </div>

    <div class="input-section">
      <input type="text" id="itemName" placeholder="Info (‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)" />
      <input type="text" id="itemLocation" placeholder="Place (‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î / ‡∏ó‡∏≥‡∏´‡∏≤‡∏¢)" />
      <div class="input-group">
        <label for="itemFoundTime" style="
              display: block;
              font-size: 0.8rem;
              color: #64748b;
              margin-bottom: 5px;
            ">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</label>
        <input type="datetime-local" id="itemFoundTime" title="‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î" style="width: 100%" />
      </div>
      <input type="file" id="itemImage" accept="image/*" style="display: none" onchange="
            document.getElementById('fileName').innerText = this.files[0].name
          " />
      <div class="action-buttons">
        <button class="btn-upload" onclick="document.getElementById('itemImage').click()">
          üì∏ <span id="fileName">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ</span>
        </button>
        <button class="btn-save" onclick="saveData()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      </div>
    </div>

    <!-- New Grid Layout -->
    <div id="itemGrid" class="item-grid"></div>

    <!-- Old Table Removed -->
  </div>

  <!-- Update Found Info Modal -->
  <div id="updateModal" class="modal hidden">
    <div class="modal-content">
      <h2>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏û‡∏ö</h2>
      <input type="hidden" id="updateLostId" />

      <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö:</label>
      <input type="datetime-local" id="updateFoundTime" />

      <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏û‡∏ö:</label>
      <input type="text" id="updateFoundPlace" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà" />

      <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô:</label>
      <select id="updateFoundStatus">
        <option value="‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô</option>
        <option value="‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡πâ‡∏ß">‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡πâ‡∏ß</option>
        <option value="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö</option>
      </select>

      <div style="display: flex; gap: 10px; margin-top: 20px">
        <button class="btn-primary" onclick="submitFoundUpdate()">
          ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
        </button>
        <button class="btn-secondary" onclick="closeUpdateModal()">
          ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
        </button>
      </div>
    </div>
  </div>

  <!-- Full Image Modal -->
  <div id="imageModal" class="modal hidden" onclick="closeImageModal()">
    <span class="close-modal">&times;</span>
    <img class="modal-content-img" id="fullImage" />
  </div>

  <script src="js/script.js"></script>
</body>

</html>